<div class="row justify-content-center align-items-center mt-4">
  <h1>Validation des missions</h1>

  <table id="missions" class="table table-striped table-bordered mt-3" cellspacing="0" width="100%">
    <thead class="thead-dark">
      <tr>
        <th class="th-sm">Date de début</th>
        <th class="th-sm">Date de fin</th>
        <th class="th-sm">Nature</th>
        <th class="th-sm">Départ</th>
        <th class="th-sm">Arrivée</th>
        <th class="th-sm">Transport</th>
        <th class="th-sm">Actions</th>
      </tr>
    </thead>
    <tbody *ngFor="let uneMission of listeMissions">
      <tr>
        <td>{{uneMission.startDate | date: "dd/MM/yyyy"}}</td>
        <td>{{uneMission.endDate | date: "dd/MM/yyyy"}}</td>
        <td>{{uneMission.nature.code}}</td>
        <td>{{uneMission.villeDepart}}</td>
        <td>{{uneMission.villeArrivee}}</td>
        <td>{{uneMission.transport}}</td>
        <td><a><img class="mr-3" src="../../assets/img/valider.png" width="20" alt="edit" (click)="openModalValider(templateValider, uneMission)"></a>
          <a><img src="../../assets/img/refuser.png" width="20" alt="delete" (click)="openModalRejeter(templateRejeter, uneMission)"></a></td>
      </tr>
    </tbody>
  </table>

</div>

<ng-template #templateValider>
  <div class="modal-body text-center">
    <p>Confirmez-vous la validation de la mission ?</p>
    <button type="button" class="btn btn-default" (click)="validerMission()">Yes</button>
    <button type="button" class="btn btn-primary" (click)="decline()">No</button>
  </div>
</ng-template>

<ng-template #templateRejeter>
  <div class="modal-body text-center">
    <p>Confirmez-vous le rejet de la mission ?</p>
    <button type="button" class="btn btn-default" (click)="validerMission()">Yes</button>
    <button type="button" class="btn btn-primary" (click)="decline()">No</button>
  </div>
</ng-template>
