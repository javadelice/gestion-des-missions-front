<div class="row justify-content-center align-items-center" *ngIf="isAdmin == true; else errorBlock">
  <h1>Nature des Missions</h1>

  <table id="missions" class="table table-striped table-bordered mt-3" cellspacing="0" width="100%">
    <thead class="thead-dark">
      <tr>
        <th class="th-sm">Nature</th>
        <th class="th-sm">Facturée</th>
        <th class="th-sm">Prime</th>
        <th class="th-sm">TJM (€)</th>
        <th class="th-sm">%Prime</th>
        <th class="th-sm">Plafond frais</th>
        <th class="th-sm">Dépt. frais</th>
        <th class="th-sm">Actions</th>
      </tr>
    </thead>

    <tbody *ngFor="let NatureMission of natureMissions">
      <tr>
        <td>{{NatureMission.code}}</td>
        <td>{{NatureMission.isFacturee}}</td>
        <td>{{NatureMission.hasPrime}}</td>
        <td>{{NatureMission.tjm}}</td>
        <td>{{NatureMission.pourcentagePrime}}</td>
        <td>{{NatureMission.plafondFrais}}</td>
        <td>{{NatureMission.depassPlafond}}</td>
        <td><a href=""><img class="mr-3" src="../../assets/img/edition.png" width="20"  alt="edit"></a>
          <a><img src="../../assets/img/delete.png" width="20" alt="delete" (click)="openModal(template, NatureMission.id)"></a></td>
      </tr>
    </tbody>
  </table>
  Ajouter une nature de mission <button class="btn btn-dark" routerLink="/nature/creer">+</button>
</div>

<ng-template #template>
  <div class="modal-body text-center">
    <p>Confirmez-vous la suppression de la mission ?</p>
    <button type="button" class="btn btn-default" (click)="confirm()" >Yes</button>
    <button type="button" class="btn btn-primary" (click)="decline()">No</button>
  </div>
</ng-template>

<ng-template #errorBlock>
    <div class="row justify-content-center align-items-center">
      <p>Vous ne disposez pas des autorisations nécessaires pour accéder à cette page!</p>
    </div>
</ng-template>
